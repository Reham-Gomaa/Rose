<div class="content">
  @if (isSaving()) {
  <div class="loading-skeleton">
    <div class="skeleton-form">
      <div class="skeleton-field-wide"></div>
      <div class="skeleton-field-wide"></div>
      <div class="skeleton-field-wide"></div>
      <div class="skeleton-actions">
        <div class="skeleton-button"></div>
      </div>
    </div>
  </div>
  } @else {
  <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()" class="profile-form">

    <!-- Current Password -->
    <app-custom-input formControlName="password" type="password" placeholder="Current Password" id="password"
      labelText="{{ 'auth.inputs.password' | translate }}" [errorHandilgControl]="changePasswordForm.get('password')!"
      autocomplete="new-password" aria-required="true" />

    <!-- New Password -->
    <app-custom-input formControlName="newPassword" type="password" placeholder="Password@12345" id="newPassword"
      labelText="{{ 'auth.inputs.newPassword' | translate }}"
      [errorHandilgControl]="changePasswordForm.get('newPassword')!" autocomplete="new-password" aria-required="true" />

    <!-- Confirm Password -->
    <app-custom-input formControlName="rePassword" type="password" placeholder="**************" id="rePassword"
      labelText="{{ 'auth.inputs.confirmPassword' | translate }}"
      [errorHandilgControl]="changePasswordForm.get('rePassword')!" autocomplete="new-password" aria-required="true" />

    @if(changePasswordForm.hasError('misMatch') && changePasswordForm.invalid){
    <p class="error-item"><i class="pi pi-delete-left"></i> {{ 'inputErrors.misMatch' | translate }}</p>
    }

    <div class="container-btn">
      <app-form-button [text]="'Save Changes' | translate" [disabled]="changePasswordForm.invalid"
        [isLoading]="isSaving()" type="submit" />
    </div>

  </form>
  }
</div>
