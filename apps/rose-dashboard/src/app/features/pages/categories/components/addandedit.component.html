<div class="page-container">
  <!-- Header -->
  <div class="header">
    <h1 class="page-title">{{ pageTitle() }}</h1>
    <nav class="breadcrumb">
      <a routerLink="/dashboard" class="breadcrumb-link">Dashboard</a>
      <span class="breadcrumb-separator">></span>
      <a routerLink="/categories" class="breadcrumb-link">Categories</a>
      <span class="breadcrumb-separator">></span>
      <span class="breadcrumb-current">{{ breadcrumbText() }}</span>
    </nav>
  </div>

  <!-- Form -->
  <div class="form-container">
    @if (isLoading() && isEditMode()) {
      <div class="loading-container">
        <i class="pi pi-spin pi-spinner"></i>
        <span>Loading category...</span>
      </div>
    } @else {
      <app-category-occasion-form
        nameFieldId="category-name"
        imageFieldId="category-image"
        nameLabel="Name"
        imageLabel="Category Image"
        namePlaceholder="Enter category name"
        uploadButtonText="Upload file"
        [submitButtonText]="submitButtonText()"
        [isLoading]="isSubmitting()"
        [initialData]="formData()"
        (formSubmit)="handleFormSubmit($event)"
        (formValid)="onFormValidityChange($event)"
      />
    }
  </div>

  <!-- Error Message -->
  @if (errorMessage()) {
    <div class="error-container">
      <i class="pi pi-exclamation-triangle"></i>
      <span>{{ errorMessage() }}</span>
    </div>
  }
</div>